Search.setIndex({"docnames": ["Installation", "MDTest", "Overview", "autoapi/index", "autoapi/spann/functions/index", "autoapi/spann/index", "autoapi/spann/model/index", "autoapi/spann/preprocess/index", "generated/spann", "generated/spann.functions", "generated/spann.model", "generated/spann.preprocess", "index"], "filenames": ["Installation.rst", "MDTest.md", "Overview.rst", "autoapi/index.rst", "autoapi/spann/functions/index.rst", "autoapi/spann/index.rst", "autoapi/spann/model/index.rst", "autoapi/spann/preprocess/index.rst", "generated/spann.rst", "generated/spann.functions.rst", "generated/spann.model.rst", "generated/spann.preprocess.rst", "index.rst"], "titles": ["Installation", "Test", "Overview", "API Reference", "<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">spann.functions</span></code>", "<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">spann</span></code>", "<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">spann.model</span></code>", "<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">spann.preprocess</span></code>", "spann", "spann.functions", "spann.model", "spann.preprocess", "Welcome to spann's documentation!"], "terms": {"spann": [0, 3], "requir": [0, 12], "python": [0, 12], "3": [0, 12], "8": [0, 12], "can": [0, 12], "from": [0, 6, 7, 10, 11], "pypi": 0, "via": [0, 12], "m": [0, 12], "pip": [0, 12], "To": 0, "directli": 0, "github": [0, 12], "you": 0, "run": [0, 10], "git": [0, 12], "http": [0, 12], "com": [0, 12], "michaelguo1204": [0, 12], "torch": [0, 6, 7, 10, 11, 12], "For": 0, "develop": 0, "its": 0, "recommend": 0, "us": [0, 6, 10], "poetri": 0, "clone": 0, "cd": 0, "thi": [1, 3, 10], "i": [1, 4, 6, 9, 10, 12], "markdown": 1, "page": [1, 3, 12], "append": 1, "inform": 1, "hereaft": 1, "contain": [3, 6, 7, 10, 11], "auto": 3, "gener": [3, 7, 11], "document": 3, "1": [3, 6, 10], "function": [3, 5, 10, 11], "model": [3, 5], "preprocess": [3, 5], "creat": 3, "sphinx": 3, "autoapi": 3, "ftest": [4, 9], "s1": [4, 9], "s2": [4, 9], "sourc": [4, 6, 7, 9, 10, 11], "f": [4, 9], "test": [4, 6, 7, 9, 10, 11, 12], "two": [4, 6, 9, 10], "distribtuion": [4, 9], "ttest_ind_fun": [4, 9], "t": [4, 9], "distribut": [4, 6, 9, 10], "distribution_plot": [4, 9], "escore_bank": [4, 9], "threshold_test": [4, 9], "bin": [4, 9], "20": [4, 6, 9, 10], "ylim": [4, 9], "180": [4, 9], "show": [4, 9], "spatial": [4, 6, 7, 9, 10, 11], "data": [4, 6, 7, 9, 10, 11], "e": [4, 6, 9, 10], "score": [4, 6, 9, 10], "learn": [4, 6, 9, 10], "threshold": [4, 9], "how": [4, 9], "mani": [4, 9], "slice": [4, 9], "divid": [4, 9], "default": [4, 6, 7, 9, 10, 11], "maximum": [4, 6, 9, 10], "valu": [4, 9], "y": [4, 6, 7, 9, 10, 11], "axi": [4, 9], "dafault": [4, 9], "kl_div": [6, 10], "mu": [6, 10], "var": [6, 10], "weight": [6, 10], "none": [6, 10], "distance_matrix": [6, 10], "pts_src": [6, 10], "tensor": [6, 10], "pts_dst": [6, 10], "p": [6, 10], "int": [6, 10], "2": [6, 10], "distance_gmm": [6, 10], "mu_src": [6, 10], "mu_dst": [6, 10], "var_src": [6, 10], "var_dst": [6, 10], "calculate_bimodality_coeffici": [6, 10], "seri": [6, 10], "calcul": [6, 10], "bc": [6, 10], "coeffici": [6, 10], "higher": [6, 10], "coef": [6, 10], "mean": [6, 10], "more": [6, 10], "like": [6, 10], "bimod": [6, 10], "dip": [6, 10], "sampl": [6, 10], "num_bin": [6, 10], "100": [6, 10], "0": [6, 10], "99": [6, 10], "tabl": [6, 10], "true": [6, 7, 10, 11], "id": [6, 10], "multi": [6, 10], "modal": [6, 10], "gcm_cal": [6, 10], "cdf": [6, 10], "idx": [6, 7, 10], "lcm_cal": [6, 10], "sup_diff": [6, 10], "alpha": [6, 10], "beta": [6, 10], "contact_point": [6, 10], "p_tabl": [6, 10], "an": [6, 10], "sample_s": [6, 10], "n_sampl": [6, 10], "activ": 6, "dsbatchnorm": [6, 10], "num_featur": [6, 10], "n_domain": [6, 10], "ep": [6, 10], "1e": [6, 10], "05": [6, 10], "momentum": [6, 10], "base": [6, 7], "nn": [6, 10], "domain": [6, 7, 10, 11], "specif": [6, 7, 10, 11], "batch": [6, 7, 11], "normal": 6, "layer": 6, "dimens": [6, 10], "featur": [6, 10], "number": [6, 7, 10, 11], "reset_running_stat": [6, 10], "reset_paramet": [6, 10], "abstract": 6, "_check_input_dim": 6, "input": [6, 10], "forward": [6, 10], "x": [6, 7, 10, 11], "block": [6, 10], "input_dim": [6, 10], "output_dim": [6, 10], "norm": [6, 10], "act": [6, 10], "dropout": [6, 10], "basic": 6, "consist": 6, "fc": [6, 10], "bn": 6, "output": 6, "repres": 6, "regular": 6, "n": 6, "relu": [6, 10], "rrelu": 6, "sigmoid": 6, "leaky_relu": 6, "leakyrelu": 6, "tanh": 6, "rate": [6, 10], "cfg": [6, 10], "neural": 6, "network": 6, "structur": 6, "configur": 6, "exampl": [6, 10], "x_dim": [6, 10], "encod": [6, 10], "vae": [6, 10], "1024": [6, 10], "10": 6, "reparameter": [6, 10], "decod": [6, 10], "z_dim": [6, 10], "latent": [6, 10], "adata": [6, 7, 11], "obsm": 6, "shape": [6, 10], "z": [6, 10], "protocl": [6, 10], "in_dim": [6, 10], "out_dim": [6, 10], "temp": [6, 10], "prototyp": 6, "classifi": [6, 10], "l2": 6, "without": 6, "bia": 6, "weight_norm": [6, 10], "cl": [6, 10], "hidden_mlp": [6, 10], "feat_dim": [6, 10], "16": [6, 10], "made": 6, "up": 6, "project": 6, "head": 6, "crossentropylabelsmooth": [6, 10], "num_class": [6, 10], "devic": [6, 10], "epsilon": [6, 10], "reduct": [6, 10], "cross": 6, "entropi": 6, "loss": [6, 10], "label": [6, 7, 10, 11], "smooth": 6, "float": 6, "target": [6, 10], "predict": [6, 10], "matrix": [6, 10], "befor": [6, 10], "softmax": [6, 10], "batch_siz": [6, 7, 10, 11], "ground": [6, 7, 10, 11], "truth": [6, 7, 10, 11], "ubot_ccd": [6, 10], "sim": [6, 10], "stopthr": [6, 10], "0001": [6, 10], "unbalanc": [6, 10], "optim": [6, 10], "transport": [6, 10], "similar": [6, 10], "between": [6, 10], "margin": [6, 10], "object": [6, 10], "return": [6, 7, 10, 11], "pseudo": [6, 10], "comput": [6, 10], "tranport": [6, 10], "plan": [6, 10], "updat": [6, 10], "normarl": [6, 10], "confid": [6, 10], "ensemble_scor": [6, 10], "logit_tensor": [6, 10], "confidence_ot": [6, 10], "mixup_target": [6, 10], "x_batch": [6, 10], "pdist": [6, 10], "A": [6, 10], "squar": [6, 10], "fals": [6, 7, 10, 11], "spann_model": [6, 10], "enc": [6, 10], "dec": [6, 10], "class_num": [6, 10], "scrna": [6, 7, 10, 11], "refer": [6, 10, 12], "dataset": [6, 7, 10, 11], "annot": [6, 10], "transcriptom": [6, 10], "paramet": [6, 10], "set": [6, 10], "cm_dec_param": [6, 10], "spa_dec_param": [6, 10], "rna_dec_param": [6, 10], "each": [6, 10], "element": [6, 10], "seq": [6, 7, 10, 11], "cell": [6, 7, 10, 11], "type": [6, 10], "which": [6, 10], "spamm": [6, 10], "arang": [6, 10], "train": [6, 7, 10, 11], "source_cm_dl": [6, 7, 10, 11], "target_cm_dl": [6, 7, 10, 11], "source_sp_d": [6, 7, 10, 11], "target_sp_d": [6, 7, 10, 11], "spatial_coor": [6, 10], "test_source_cm_dl": [6, 7, 10, 11], "test_target_cm_dl": [6, 7, 10, 11], "source_label": [6, 10], "cell_typ": [6, 7, 10, 11], "lr": [6, 10], "lambda_recon": [6, 10], "2000": [6, 7, 10, 11], "lambda_kl": [6, 10], "5": [6, 10], "lambda_spa": [6, 10], "lambda_cd": [6, 10], "001": [6, 10], "lambda_nb": [6, 10], "6": [6, 10], "k": [6, 10], "resolut": [6, 10], "novel_cell_test": [6, 10], "maxit": [6, 10], "6000": [6, 10], "miditer1": [6, 10], "miditer2": [6, 10], "5000": [6, 10], "miditer3": [6, 10], "4000": [6, 10], "test_freq": [6, 10], "1000": [6, 10], "evalu": [6, 10], "appli": [6, 10], "dataload": [6, 7, 10, 11], "common": [6, 7, 10, 11], "gene": [6, 7, 10, 11], "panda": [6, 10], "datafram": [6, 10], "raw": [6, 10], "coordin": [6, 10], "column": [6, 10], "name": [6, 10], "integ": [6, 10], "list": [6, 10], "all": [6, 10], "exist": [6, 10], "4": [6, 10], "lamnda_recon": [6, 10], "reconstruct": [6, 10], "kl": [6, 10], "diverg": [6, 10], "adjac": [6, 10], "we": [6, 10], "recomend": [6, 10], "smaller": [6, 10], "when": [6, 10], "express": [6, 10], "pattern": [6, 10], "weak": [6, 10], "align": [6, 10], "gap": [6, 10], "big": [6, 10], "neighbor": [6, 10], "speed": [6, 10], "move": [6, 10], "averag": [6, 10], "expect": [6, 10], "minimum": [6, 10], "proport": [6, 10], "known": [6, 10], "constraint": [6, 10], "novel": [6, 10], "discoveri": [6, 10], "whether": [6, 10], "co": [6, 10], "effici": [6, 10], "adapt": [6, 10], "select": [6, 10], "iter": [6, 10], "after": [6, 10], "start": [6, 10], "conduct": [6, 10], "uot": [6, 10], "frequenc": [6, 10], "anndata": [6, 7, 10, 11], "adata_sourc": [6, 10], "adata_target": [6, 10], "embed": [6, 10], "etc": [6, 10], "train_ev": [6, 10], "target_label": [6, 10], "common_cell_typ": [6, 10], "valid": [6, 10], "both": [6, 10], "batch_scal": [7, 11], "use_rep": [7, 11], "chunk_siz": [7, 11], "20000": [7, 11], "scale": [7, 11], "anndata_preprocess": [7, 11], "adata_spa": [7, 11], "adata_rna": [7, 11], "highly_vari": [7, 11], "spatial_label": [7, 11], "rna": [7, 11], "file": [7, 11], "ob": [7, 11], "highli": [7, 11], "variabl": [7, 11], "ar": [7, 11], "should": [7, 10, 11], "adata_cm": [7, 11], "singlecelldataset": [7, 11], "util": 7, "singl": [7, 11], "__len__": 7, "__getitem__": 7, "generate_dataload": [7, 11], "256": [7, 11], "integr": [7, 11], "size": [7, 11], "modul": [8, 10, 12], "class": [10, 11], "initi": 10, "intern": 10, "state": 10, "share": 10, "scriptmodul": 10, "defin": 10, "perform": 10, "everi": 10, "call": 10, "overridden": 10, "subclass": 10, "although": 10, "recip": 10, "pass": 10, "need": 10, "within": 10, "one": 10, "instanc": 10, "afterward": 10, "instead": 10, "sinc": 10, "former": 10, "take": 10, "care": 10, "regist": 10, "hook": 10, "while": 10, "latter": 10, "silent": 10, "ignor": 10, "them": 10, "import": 12, "overview": 12, "api": 12, "index": 12, "search": 12}, "objects": {"": [[5, 0, 0, "-", "spann"]], "spann": [[4, 0, 0, "-", "functions"], [6, 0, 0, "-", "model"], [7, 0, 0, "-", "preprocess"]], "spann.functions": [[4, 1, 1, "", "distribution_plot"], [4, 1, 1, "", "ftest"], [4, 1, 1, "", "ttest_ind_fun"]], "spann.model": [[6, 2, 1, "", "Block"], [6, 2, 1, "", "CLS"], [6, 2, 1, "", "CrossEntropyLabelSmooth"], [6, 2, 1, "", "DSBatchNorm"], [6, 2, 1, "", "Decoder"], [6, 2, 1, "", "Encoder"], [6, 2, 1, "", "NN"], [6, 2, 1, "", "ProtoCLS"], [6, 2, 1, "", "SPANN_model"], [6, 4, 1, "", "activation"], [6, 1, 1, "", "calculate_bimodality_coefficient"], [6, 1, 1, "", "dip"], [6, 1, 1, "", "distance_gmm"], [6, 1, 1, "", "distance_matrix"], [6, 1, 1, "", "ensemble_score"], [6, 1, 1, "", "gcm_cal"], [6, 1, 1, "", "kl_div"], [6, 1, 1, "", "lcm_cal"], [6, 1, 1, "", "mixup_target"], [6, 1, 1, "", "p_table"], [6, 1, 1, "", "pdists"], [6, 1, 1, "", "sup_diff"], [6, 1, 1, "", "ubot_CCD"]], "spann.model.Block": [[6, 3, 1, "", "forward"]], "spann.model.CLS": [[6, 3, 1, "", "forward"]], "spann.model.CrossEntropyLabelSmooth": [[6, 3, 1, "", "forward"]], "spann.model.DSBatchNorm": [[6, 3, 1, "", "_check_input_dim"], [6, 3, 1, "", "forward"], [6, 3, 1, "", "reset_parameters"], [6, 3, 1, "", "reset_running_stats"]], "spann.model.Decoder": [[6, 3, 1, "", "forward"]], "spann.model.Encoder": [[6, 3, 1, "", "forward"], [6, 3, 1, "", "reparameterize"]], "spann.model.NN": [[6, 3, 1, "", "forward"]], "spann.model.ProtoCLS": [[6, 3, 1, "", "forward"], [6, 3, 1, "", "weight_norm"]], "spann.model.SPANN_model": [[6, 3, 1, "", "train"], [6, 3, 1, "", "train_eval"]], "spann.preprocess": [[7, 2, 1, "", "SingleCellDataset"], [7, 1, 1, "", "anndata_preprocess"], [7, 1, 1, "", "batch_scale"], [7, 1, 1, "", "generate_dataloaders"]], "spann.preprocess.SingleCellDataset": [[7, 3, 1, "", "__getitem__"], [7, 3, 1, "", "__len__"]]}, "objtypes": {"0": "py:module", "1": "py:function", "2": "py:class", "3": "py:method", "4": "py:data"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "function", "Python function"], "2": ["py", "class", "Python class"], "3": ["py", "method", "Python method"], "4": ["py", "data", "Python data"]}, "titleterms": {"instal": [0, 12], "test": 1, "overview": 2, "api": 3, "refer": 3, "spann": [4, 5, 6, 7, 8, 9, 10, 11, 12], "function": [4, 6, 7, 9], "modul": [4, 6, 7], "content": [4, 6, 7, 12], "submodul": 5, "model": [6, 10], "class": [6, 7], "attribut": 6, "preprocess": [7, 11], "welcom": 12, "": 12, "document": 12, "featur": 12, "usag": 12, "indic": 12, "tabl": 12}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 58}, "alltitles": {"Installation": [[0, "installation"], [12, "installation"]], "Overview": [[2, "overview"]], "Test": [[1, "test"]], "Welcome to spann's documentation!": [[12, "welcome-to-spann-s-documentation"]], "spann": [[12, "spann"], [8, "module-spann"], [5, "module-spann"]], "Features": [[12, "features"]], "Usage": [[12, "usage"]], "Contents:": [[12, null]], "Indices and tables": [[12, "indices-and-tables"]], "spann.functions": [[9, "module-spann.functions"], [4, "module-spann.functions"]], "spann.model": [[10, "module-spann.model"], [6, "module-spann.model"]], "spann.preprocess": [[11, "module-spann.preprocess"], [7, "module-spann.preprocess"]], "API Reference": [[3, "api-reference"]], "Module Contents": [[4, "module-contents"], [6, "module-contents"], [7, "module-contents"]], "Functions": [[4, "functions"], [6, "functions"], [7, "functions"]], "Submodules": [[5, "submodules"]], "Classes": [[6, "classes"], [7, "classes"]], "Attributes": [[6, "attributes"]]}, "indexentries": {"distribution_plot() (in module spann.functions)": [[4, "spann.functions.distribution_plot"]], "ftest() (in module spann.functions)": [[4, "spann.functions.ftest"]], "module": [[4, "module-spann.functions"], [5, "module-spann"], [6, "module-spann.model"], [7, "module-spann.preprocess"]], "spann.functions": [[4, "module-spann.functions"]], "ttest_ind_fun() (in module spann.functions)": [[4, "spann.functions.ttest_ind_fun"]], "spann": [[5, "module-spann"]], "block (class in spann.model)": [[6, "spann.model.Block"]], "cls (class in spann.model)": [[6, "spann.model.CLS"]], "crossentropylabelsmooth (class in spann.model)": [[6, "spann.model.CrossEntropyLabelSmooth"]], "dsbatchnorm (class in spann.model)": [[6, "spann.model.DSBatchNorm"]], "decoder (class in spann.model)": [[6, "spann.model.Decoder"]], "encoder (class in spann.model)": [[6, "spann.model.Encoder"]], "nn (class in spann.model)": [[6, "spann.model.NN"]], "protocls (class in spann.model)": [[6, "spann.model.ProtoCLS"]], "spann_model (class in spann.model)": [[6, "spann.model.SPANN_model"]], "_check_input_dim() (spann.model.dsbatchnorm method)": [[6, "spann.model.DSBatchNorm._check_input_dim"]], "activation (in module spann.model)": [[6, "spann.model.activation"]], "calculate_bimodality_coefficient() (in module spann.model)": [[6, "spann.model.calculate_bimodality_coefficient"]], "dip() (in module spann.model)": [[6, "spann.model.dip"]], "distance_gmm() (in module spann.model)": [[6, "spann.model.distance_gmm"]], "distance_matrix() (in module spann.model)": [[6, "spann.model.distance_matrix"]], "ensemble_score() (in module spann.model)": [[6, "spann.model.ensemble_score"]], "forward() (spann.model.block method)": [[6, "spann.model.Block.forward"]], "forward() (spann.model.cls method)": [[6, "spann.model.CLS.forward"]], "forward() (spann.model.crossentropylabelsmooth method)": [[6, "spann.model.CrossEntropyLabelSmooth.forward"]], "forward() (spann.model.dsbatchnorm method)": [[6, "spann.model.DSBatchNorm.forward"]], "forward() (spann.model.decoder method)": [[6, "spann.model.Decoder.forward"]], "forward() (spann.model.encoder method)": [[6, "spann.model.Encoder.forward"]], "forward() (spann.model.nn method)": [[6, "spann.model.NN.forward"]], "forward() (spann.model.protocls method)": [[6, "spann.model.ProtoCLS.forward"]], "gcm_cal() (in module spann.model)": [[6, "spann.model.gcm_cal"]], "kl_div() (in module spann.model)": [[6, "spann.model.kl_div"]], "lcm_cal() (in module spann.model)": [[6, "spann.model.lcm_cal"]], "mixup_target() (in module spann.model)": [[6, "spann.model.mixup_target"]], "p_table() (in module spann.model)": [[6, "spann.model.p_table"]], "pdists() (in module spann.model)": [[6, "spann.model.pdists"]], "reparameterize() (spann.model.encoder method)": [[6, "spann.model.Encoder.reparameterize"]], "reset_parameters() (spann.model.dsbatchnorm method)": [[6, "spann.model.DSBatchNorm.reset_parameters"]], "reset_running_stats() (spann.model.dsbatchnorm method)": [[6, "spann.model.DSBatchNorm.reset_running_stats"]], "spann.model": [[6, "module-spann.model"]], "sup_diff() (in module spann.model)": [[6, "spann.model.sup_diff"]], "train() (spann.model.spann_model method)": [[6, "spann.model.SPANN_model.train"]], "train_eval() (spann.model.spann_model method)": [[6, "spann.model.SPANN_model.train_eval"]], "ubot_ccd() (in module spann.model)": [[6, "spann.model.ubot_CCD"]], "weight_norm() (spann.model.protocls method)": [[6, "spann.model.ProtoCLS.weight_norm"]], "singlecelldataset (class in spann.preprocess)": [[7, "spann.preprocess.SingleCellDataset"]], "__getitem__() (spann.preprocess.singlecelldataset method)": [[7, "spann.preprocess.SingleCellDataset.__getitem__"]], "__len__() (spann.preprocess.singlecelldataset method)": [[7, "spann.preprocess.SingleCellDataset.__len__"]], "anndata_preprocess() (in module spann.preprocess)": [[7, "spann.preprocess.anndata_preprocess"]], "batch_scale() (in module spann.preprocess)": [[7, "spann.preprocess.batch_scale"]], "generate_dataloaders() (in module spann.preprocess)": [[7, "spann.preprocess.generate_dataloaders"]], "spann.preprocess": [[7, "module-spann.preprocess"]]}})